# Квест "Охотники за рекордами" - Полное описание

## Концепция квеста
Студенты становятся исследователями технологических достижений и рекордов в области программирования, игровой индустрии и IT-технологий. Каждый этап раскрывает удивительные факты и требует освоения новых команд терминала.

## Настройка квеста (для преподавателя)

### Скрипт подготовки
```bash
#!/bin/bash
# quest_setup.sh - подготовка квеста

# Создаем основные директории для квеста
mkdir -p /tmp/tech_records
mkdir -p /secret/archives
mkdir -p /var/tmp/gaming_data

# Рекорд 1: Программирование
cat > /tmp/tech_records/coding_record.data << 'EOF'
ТЕХНОЛОГИЧЕСКИЙ РЕКОРД: Самый длинный марафон программирования

Рекордсмен: Алвин Ашкрафт (США)
Продолжительность: 135 часов 14 минут 38 секунд
Дата установления: 2014 год

Во время марафона программист создал игру "Asteroids" с нуля,
используя только язык C и библиотеку SDL. За почти 6 дней
непрерывной работы он написал более 3000 строк кода.

Код доступа: MARATHON135
EOF

# Рекорд 2: Видеоигры
cat > /var/tmp/gaming_data/gaming_record.data << 'EOF'
ИГРОВОЙ РЕКОРД: Самая дорогостоящая видеоигра в разработке

Проект: Grand Theft Auto V
Бюджет разработки: 265 миллионов долларов США
Время разработки: 5 лет
Размер команды: более 1000 специалистов

Интересный факт: бюджет превысил затраты на производство
большинства голливудских блокбастеров того времени.

Код доступа: GTAV265M
EOF

# Рекорд 3: Интернет технологии
cat > /secret/archives/internet_record.data << 'EOF'
СЕТЕВОЙ РЕКОРД: Максимальная скорость передачи данных

Достижение: 178 терабит в секунду
Место: Япония, 2020 год
Технология: оптоволоконные каналы связи

При такой скорости можно передать весь каталог Netflix
за одну секунду. Это в миллион раз быстрее обычного
домашнего интернет-соединения.

Код доступа: FIBER178TB
EOF

# Финальный рекорд
cat > /secret/archives/final_record.txt << 'EOF'
СЕКРЕТНЫЙ РЕКОРД: Самая молодая команда разработчиков приложения

Проект: мобильная игра "Pocket Pixels" для iOS
Возраст участников: от 10 до 14 лет
Дата: 2019 год
Команда: 4 школьника из Канады

Их приложение было скачано более 100,000 раз в первый месяц.
Этот случай доказывает, что программированию действительно
нет возрастных ограничений.

Поздравляем! Теперь вы знаете, что даже школьники могут
устанавливать технологические рекорды.

Сертификат исследователя: RECORD_HUNTER_2025
EOF

# Создаем проверочный скрипт
cat > quest_checker.sh << 'EOF'
#!/bin/bash
# Проверяльщик заданий квеста

USER_QUEST_DIR="./record_hunt"

check_research_base() {
    echo "Проверка исследовательской базы..."
    
    if [ -d "$USER_QUEST_DIR" ] && [ -d "$USER_QUEST_DIR/equipment" ] && [ -d "$USER_QUEST_DIR/database" ] && [ -d "$USER_QUEST_DIR/records" ] && [ -d "$USER_QUEST_DIR/reports" ]; then
        echo "Исследовательская база готова к работе."
        echo ""
        echo "ПЕРВАЯ ПОДСКАЗКА:"
        echo "Данные о рекордах находятся в трех локациях:"
        echo "• /tmp/tech_records/ - технические достижения"
        echo "• /var/tmp/gaming_data/ - игровые рекорды"  
        echo "• /secret/archives/ - засекреченная информация"
        echo ""
        echo "ЗАДАНИЕ: Найдите все файлы с расширением .data и скопируйте их в папку records"
        return 0
    else
        echo "Ошибка: создайте структуру record_hunt/{equipment,database,records,reports}"
        echo "в текущей директории квеста"
        return 1
    fi
}

check_records_found() {
    echo "Проверка собранных данных..."
    
    local records_count=$(find "$USER_QUEST_DIR/records" -name "*.data" 2>/dev/null | wc -l)
    
    if [ "$records_count" -ge 3 ]; then
        echo "Все записи о рекордах успешно найдены и каталогизированы."
        echo ""
        echo "ВТОРАЯ ПОДСКАЗКА:"
        echo "Каждая запись содержит уникальный код доступа."
        echo "Изучите содержимое файлов и извлеките коды."
        echo ""
        echo "ЗАДАНИЕ: Создайте файл 'access_codes.txt' в папке reports"
        echo "Запишите туда все найденные коды (по одному на строку)"
        return 0
    else
        echo "Ошибка: найдено записей $records_count из 3. Продолжите поиск файлов .data"
        return 1
    fi
}

check_codes_analyzed() {
    echo "Проверка анализа кодов доступа..."
    
    if [ -f "$USER_QUEST_DIR/reports/access_codes.txt" ]; then
        local codes_count=$(wc -l < "$USER_QUEST_DIR/reports/access_codes.txt")
        if [ "$codes_count" -ge 3 ]; then
            echo "Коды доступа успешно извлечены и систематизированы."
            echo ""
            echo "ТРЕТЬЯ ПОДСКАЗКА:"
            echo "Профессиональные исследователи ведут детальную документацию."
            echo "Составьте аналитический отчет о найденных рекордах."
            echo ""
            echo "ЗАДАНИЕ: Создайте файл 'record_analysis.txt' в папке reports"
            echo "Опишите каждый рекорд (минимум 3 строки текста)"
            return 0
        fi
    fi
    
    echo "Ошибка: создайте файл access_codes.txt в папке reports и внесите все коды"
    return 1
}

check_analysis_complete() {
    echo "Проверка аналитического отчета..."
    
    if [ -f "$USER_QUEST_DIR/reports/record_analysis.txt" ]; then
        local lines_count=$(wc -l < "$USER_QUEST_DIR/reports/record_analysis.txt")
        if [ "$lines_count" -ge 3 ]; then
            echo "Аналитический отчет составлен на профессиональном уровне."
            echo ""
            echo "ФИНАЛЬНАЯ ПОДСКАЗКА:"
            echo "В секретных архивах /secret/archives/ хранится особая запись."
            echo "Найдите файл с самым вдохновляющим технологическим достижением."
            echo ""
            echo "ФИНАЛЬНОЕ ЗАДАНИЕ: Получите доступ к секретному архиву"
            return 0
        fi
    fi
    
    echo "Ошибка: создайте record_analysis.txt с описанием рекордов (минимум 3 строки)"
    return 1
}

check_secret_record() {
    echo "Проверка доступа к секретному архиву..."
    
    if [ -f "$USER_QUEST_DIR/final_record.txt" ]; then
        echo "КВЕСТ ЗАВЕРШЕН УСПЕШНО"
        echo ""
        echo "Выполненные задачи:"
        echo "• Создана исследовательская база данных"
        echo "• Найдены все технологические рекорды"  
        echo "• Извлечены секретные коды доступа"
        echo "• Составлен профессиональный отчет"
        echo "• Получен доступ к секретному архиву"
        echo ""
        echo "Поздравляем! Вы получили сертификат исследователя технологических рекордов."
        return 0
    else
        echo "Ошибка: найдите и скопируйте секретную запись в папку record_hunt"
        return 1
    fi
}

# Главная логика проверки
case $1 in
    "1"|"base") check_research_base ;;
    "2"|"records") check_records_found ;;
    "3"|"codes") check_codes_analyzed ;;
    "4"|"analysis") check_analysis_complete ;;
    "5"|"secret") check_secret_record ;;
    *)
        echo "Квест 'Охотники за рекордами'"
        echo ""
        echo "Команды проверки:"
        echo "  ./quest_checker.sh 1  - проверить исследовательскую базу"
        echo "  ./quest_checker.sh 2  - проверить сбор рекордов"
        echo "  ./quest_checker.sh 3  - проверить коды доступа"
        echo "  ./quest_checker.sh 4  - проверить аналитический отчет"
        echo "  ./quest_checker.sh 5  - проверить секретный архив"
        ;;
esac
EOF

chmod +x quest_checker.sh
chmod +r /tmp/tech_records/*
chmod +r /var/tmp/gaming_data/*
chmod +r /secret/archives/*

# Генерируем скрипт для очистки всех файлов квеста
cat > quest_cleanup.sh << 'EOF'
#!/bin/bash
# quest_cleanup.sh - удаляет все артефакты и результаты квеста

echo "Удаление файлов квеста..."

# Удаляем артефакты из системных директорий
rm -rf /tmp/tech_records
rm -rf /var/tmp/gaming_data
rm -rf /secret/archives

# Удаляем рабочую папку участника (если запускать из папки квеста)
rm -rf ./record_hunt
rm ./quest_checker.sh
rm ./quest_cleanup.sh

echo "Очистка завершена."
EOF

chmod +x quest_cleanup.sh

echo "Квест настроен. Можно начинать с команды ./quest_checker.sh"
echo "Для удаления всех файлов квеста используйте ./quest_cleanup.sh"
```

## Описание заданий для студентов

### Задание 1: Создание исследовательской базы
**Ваша роль:** Вы — исследователь технологических рекордов, которому поручено создать базу для изучения удивительных достижений в мире IT.

**Что нужно сделать:**
1. Создайте папку с названием `record_hunt` — это будет ваша исследовательская база.
2. Перейдите в эту папку.
3. Создайте внутри четыре подпапки:
   - `equipment` — для инструментов исследования
   - `database` — для систематизации данных
   - `records` — для хранения найденных записей
   - `reports` — для аналитических отчетов
4. Проверьте, что структура создана правильно.
5. Вернитесь в основную папку квеста.
6. Запустите проверку: `./quest_checker.sh 1`

**Подсказка:** Используйте команды `mkdir`, `cd`, `ls -la`.

### Задание 2: Поиск технологических рекордов
**Ваша миссия:** В системе спрятаны файлы с данными о трех выдающихся технологических рекордах. Найдите их!

**Что нужно сделать:**
1. Найдите все файлы с расширением `.data` в системе.
2. Проверьте три основные локации: `/tmp/`, `/var/tmp/` и `/secret/`.
3. Скопируйте каждый найденный файл в папку `record_hunt/records/`.
4. Проверьте, что все файлы успешно скопированы.
5. Запустите проверку: `./quest_checker.sh 2`

**Подсказка:** Команда `find` поможет найти файлы по шаблону, а `cp` — скопировать их.

**Ожидаемый результат:** Вы найдете записи о марафоне программирования, разработке дорогой игры и рекорде скорости интернета.

### Задание 3: Извлечение секретных кодов
**Детективная работа:** Каждая запись о рекорде содержит секретный код доступа. Найдите их все!

**Что нужно сделать:**
1. Прочитайте содержимое каждого файла `.data` в папке `records`.
2. Найдите в каждом файле строку "Код доступа:" и запомните код.
3. Создайте файл `access_codes.txt` в папке `reports`.
4. Запишите в него все найденные коды (каждый код на отдельной строке).
5. Проверьте содержимое созданного файла.
6. Запустите проверку: `./quest_checker.sh 3`

**Подсказка:** `cat` покажет содержимое файла, `echo` с `>` и `>>` поможет записать данные.

**Ожидаемые коды:** MARATHON135, GTAV265M, FIBER178TB

### Задание 4: Составление аналитического отчета
**Научная работа:** Профессиональные исследователи всегда документируют свои открытия.

**Что нужно сделать:**
1. Создайте файл `record_analysis.txt` в папке `reports`.
2. Напишите в него анализ каждого найденного рекорда:
   - Опишите рекорд марафона программирования (135 часов).
   - Проанализируйте бюджет разработки GTA V ($265 млн).
   - Объясните значение рекорда скорости интернета (178 терабит/с).
3. Каждое описание должно содержать минимум одну строку.
4. Проверьте количество строк в файле.
5. Запустите проверку: `./quest_checker.sh 4`

**Подсказка:** Используйте `nano` для удобного редактирования или `echo` для быстрой записи. Команда `wc -l` покажет количество строк.

### Задание 5: Секретный архив
**Финальное открытие:** Существует один особый рекорд, который может вас вдохновить!

**Что нужно сделать:**
1. Найдите в папке `/secret/archives/` файл с расширением `.txt`.
2. Прочитайте его содержимое — это самый вдохновляющий рекорд!
3. Скопируйте этот файл в папку `record_hunt` (в корень, не в подпапку).
4. Запустите финальную проверку: `./quest_checker.sh 5`

**Награда:** Узнаете о рекорде самой молодой команды разработчиков и получите сертификат исследователя!

---

## Пошаговое решение квеста

### Этап 1: Создание исследовательской базы
```bash
mkdir record_hunt
cd record_hunt
mkdir equipment database records reports
ls -la  # проверить структуру
cd ..
./quest_checker.sh 1
```

### Этап 2: Поиск записей о рекордах
```bash
find /tmp -name "*.data"
find /var -name "*.data"  
find /secret -name "*.data"
cp /tmp/tech_records/coding_record.data record_hunt/records/
cp /var/tmp/gaming_data/gaming_record.data record_hunt/records/
cp /secret/archives/internet_record.data record_hunt/records/
ls record_hunt/records/
./quest_checker.sh 2
```

### Этап 3: Извлечение кодов доступа
```bash
cat record_hunt/records/coding_record.data
cat record_hunt/records/gaming_record.data  
cat record_hunt/records/internet_record.data
echo "MARATHON135" > record_hunt/reports/access_codes.txt
echo "GTAV265M" >> record_hunt/reports/access_codes.txt
echo "FIBER178TB" >> record_hunt/reports/access_codes.txt
cat record_hunt/reports/access_codes.txt
./quest_checker.sh 3
```

### Этап 4: Составление аналитического отчета
```bash
nano record_hunt/reports/record_analysis.txt
# Или через echo:
echo "Рекорд марафона программирования демонстрирует выносливость разработчиков" > record_hunt/reports/record_analysis.txt
echo "Бюджет GTA V показывает масштабы современной игровой индустрии" >> record_hunt/reports/record_analysis.txt  
echo "Скорость японского интернета превосходит домашние соединения в миллион раз" >> record_hunt/reports/record_analysis.txt
wc -l record_hunt/reports/record_analysis.txt
./quest_checker.sh 4
```

### Этап 5: Секретный архив
```bash
find /secret -name "*.txt"
ls -la /secret/archives/
cat /secret/archives/final_record.txt
cp /secret/archives/final_record.txt record_hunt/
./quest_checker.sh 5
```

---

## Дополнительные задания для продвинутых учеников

### Задание A: Статистический анализ
```bash
grep -r "[0-9]\+" record_hunt/records/ | grep -o "[0-9]\+" > all_numbers.txt
cat all_numbers.txt | sort -n > sorted_numbers.txt
echo "Максимальное значение в данных:" > stats.txt
tail -n 1 sorted_numbers.txt >> stats.txt
```

### Задание B: База данных рекордов
```bash
echo "=== БАЗА ДАННЫХ ТЕХНОЛОГИЧЕСКИХ РЕКОРДОВ ===" > record_hunt/database/records_db.txt
date >> record_hunt/database/records_db.txt
echo "" >> record_hunt/database/records_db.txt
echo "Каталог записей:" >> record_hunt/database/records_db.txt
ls record_hunt/records/ >> record_hunt/database/records_db.txt
echo "" >> record_hunt/database/records_db.txt
echo "Коды доступа:" >> record_hunt/database/records_db.txt
cat record_hunt/reports/access_codes.txt >> record_hunt/database/records_db.txt
```

### Задание C: Резервное копирование
```bash
mkdir research_backup
cp -r record_hunt/records record_hunt/reports record_hunt/database research_backup/
ls -R research_backup/
```

1. Найти все строки, где встречается слово "рекорд" (без учета регистра):
grep -i "рекорд" record_hunt/records/*

2. Посчитать, сколько раз встречается слово "код" во всех файлах:
grep -oi "код" record_hunt/records/* | wc -l

3. Вывести только строки с числами из всех файлов:
grep -h -E "[0-9]+" record_hunt/records/*

4. Найти строки, где упоминается "GTA" и сразу вывести только эти строки:
grep "GTA" record_hunt/records/*

5. Найти все строки, где встречается "доллар", и отсортировать их по алфавиту:
grep -i "доллар" record_hunt/records/* | sort

6. Вывести только коды доступа из всех файлов:
grep "Код доступа:" record_hunt/records/* | cut -d':' -f2 | tr -d ' '

7. Найти все строки длиннее 40 символов:
grep -r '.\{40,\}' record_hunt/records/

8. Найти все строки, где есть слово "разработка", и посчитать их количество:
grep -i "разработка" record_hunt/records/* | wc -l

9. Найти все строки, где есть цифры, и вывести только уникальные строки:
grep -h "[0-9]" record_hunt/records/* | sort | uniq

10. Найти все строки, где встречается "интернет", и вывести только первые 2:
grep -i "интернет" record_hunt/records/* | head -n 2



---

## Команды, изучаемые в ходе квеста

**Навигация и просмотр:**
- `pwd` — определение текущего местоположения
- `ls`, `ls -la` — просмотр содержимого директорий
- `cd` — переход между директориями

**Работа с файлами и директориями:**
- `mkdir` — создание директорий
- `touch` — создание пустых файлов
- `cp`, `cp -r` — копирование файлов и директорий
- `mv` — перемещение и переименование
- `rm`, `rm -r` — удаление файлов и директорий

**Просмотр и редактирование содержимого:**
- `cat` — вывод содержимого файлов
- `less` — постраничный просмотр
- `head`, `tail` — просмотр начала и конца файлов
- `echo`, `>`, `>>` — запись данных в файлы
- `nano` — текстовый редактор

**Поиск и анализ:**
- `find` — поиск файлов по критериям
- `grep` — поиск текста в содержимом
- `wc` — подсчет строк, слов и символов
- `sort` — сортировка данных

**Дополнительные возможности:**
- `|` (pipe) — передача вывода между командами
- история команд (стрелки вверх/вниз)
- автодополнение (клавиша Tab)

---

## Очистка квеста

После завершения занятия для удаления всех файлов квеста используйте:
```bash
./quest_cleanup.sh
```
Этот скрипт удалит все артефакты, результаты и вспомогательные файлы, связанные с квестом.

---

## Технологические рекорды, используемые в квесте

1. Марафон программирования — 135 часов непрерывной работы
2. Бюджет разработки игры — Grand Theft Auto V, $265 миллионов
3. Скорость передачи данных — 178 терабит в секунду
4. Молодые разработчики — команда школьников 10-14 лет

Квест сочетает практическое изучение терминала с познавательными фактами из мира технологий, программирования и игровой индустрии.